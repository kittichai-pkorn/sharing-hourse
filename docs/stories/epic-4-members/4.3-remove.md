# Story 4.3: ลบสมาชิก

## Info
| Field | Value |
|-------|-------|
| Epic | 4. จัดการสมาชิก |
| Priority | P2 |
| Points | 2 (S) |
| Status | ✅ Done |

---

## User Story

```
As a: ท้าวแชร์
I want to: ลบสมาชิกออกจากวง
So that: จัดการคนในวงได้
```

---

## Acceptance Criteria

- [x] ลบสมาชิกที่ยังไม่เปีย
- [x] ไม่ให้ลบคนที่เปียแล้ว
- [ ] ไม่ให้ลบท้าวแชร์ (ยังไม่ได้ implement - optional)
- [x] ไม่ให้ลบถ้าวงเปิดแล้ว
- [x] Confirmation ก่อนลบ

---

## UI/UX

```
┌─────────────────────────────────────────────────────┐
│  ⚠️ ยืนยันการลบ                               [✕]  │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                                     │
│  คุณต้องการลบ "สมหญิง ใจดี" ออกจากวงหรือไม่?      │
│                                                     │
│                              [ยกเลิก] [🗑️ ลบ]     │
└─────────────────────────────────────────────────────┘
```

---

## Error Cases

| กรณี | ข้อความ |
|------|---------|
| เปียแล้ว | ไม่สามารถลบสมาชิกที่เปียแล้วได้ |
| ท้าวแชร์ | ไม่สามารถลบท้าวแชร์ได้ |
| วงเปิดแล้ว | ไม่สามารถลบสมาชิกหลังวงเปิดแล้ว |

---

## API

```typescript
DELETE /api/members/:id

// Response
{
  success: true,
  message: "ลบสมาชิกเรียบร้อยแล้ว"
}

// Error Response (วงเปิดแล้ว)
{
  success: false,
  error: "ไม่สามารถลบสมาชิกหลังวงเปิดแล้ว"
}

// Error Response (เปียแล้ว)
{
  success: false,
  error: "ไม่สามารถลบสมาชิกที่เปียแล้วได้"
}
```

---

## Files

- `backend/src/routes/members.ts` - DELETE /api/members/:id (with status/won checks)
- `frontend/src/pages/dashboard/ShareGroupDetailPage.tsx` - Delete button with confirmation

---

*v2.0 | Dec 2024*
