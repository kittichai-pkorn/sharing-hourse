# Story 5.2: เพิ่มสมาชิกพร้อมยอดส่ง

## Info
| Field | Value |
|-------|-------|
| Epic | 5. STEP_INTEREST (ขั้นบันได) |
| Priority | P0 |
| Points | 2 (S) |
| Status | Draft |

---

## User Story

```
As a: ท้าวแชร์
I want to: เพิ่มสมาชิกพร้อมกำหนดยอดส่งแต่ละคน
So that: จัดการยอดส่งที่แตกต่างกันของลูกแชร์ได้
```

---

## Acceptance Criteria

- [ ] เพิ่มสมาชิกได้ถึงจำนวนมือสูงสุด
- [ ] กำหนดยอดส่ง/งวด ให้แต่ละสมาชิกได้
- [ ] ท้าวไม่ต้องส่ง (ยอดส่ง = 0)
- [ ] แสดงยอดส่งรวมของลูกแชร์ทั้งหมด
- [ ] Validation: ยอดส่งต้อง > 0 (ยกเว้นท้าว)
- [ ] สมาชิก 1 คนเล่นได้หลายมือในวงเดียวกัน

---

## ฟิลด์สมาชิก

| ฟิลด์ | บังคับ | คำอธิบาย |
|-------|:------:|----------|
| สมาชิก | * | เลือกจากรายชื่อหรือเพิ่มใหม่ |
| ยอดส่ง/งวด | * | ยอดที่ส่งทุกงวด |
| ชื่อเล่น | | ชื่อเรียกในวง |

---

## UI/UX

### ตารางสมาชิก
```
┌──────────────────────────────────────────────────────────┐
│ สมาชิก (6/7)                              ยอดส่งรวม: 940 │
├──────────────────────────────────────────────────────────┤
│ # │ ชื่อ     │ ยอดส่ง/งวด │ หมายเหตุ         │ จัดการ    │
│───┼──────────┼────────────┼──────────────────┼───────────│
│ 1 │ ท้าว     │ 0          │ ท้าว (ไม่ต้องส่ง) │ [🔒]      │
│ 2 │ เต้      │ 240        │                  │ [✏️][🗑️]  │
│ 3 │ เต้ง     │ 220        │                  │ [✏️][🗑️]  │
│ 4 │ ทิม      │ 180        │                  │ [✏️][🗑️]  │
│ 5 │ ตุ๊ก      │ 160        │                  │ [✏️][🗑️]  │
│ 6 │ ต้น      │ 140        │                  │ [✏️][🗑️]  │
└──────────────────────────────────────────────────────────┘
```

---

## Business Logic

### การคำนวณยอดส่งรวม
```
ยอดส่งรวม = ผลรวมยอดส่งของลูกแชร์ทั้งหมด (ไม่รวมท้าว)
         = 240 + 220 + 180 + 160 + 140 = 940 บาท
```

### หมายเหตุ
- ลูกแชร์ส่งยอดคงที่ทุกงวด (แม้เปียแล้ว)
- ยอดส่งที่แตกต่างกันเป็นหัวใจของ STEP_INTEREST

### มือ (Multiple Hands)

> ลูกแชร์ 1 คนเล่นได้ **หลายมือ** ในวงเดียวกัน

| สถานการณ์ | คำอธิบาย |
|----------|----------|
| เต้ เล่น 2 มือ | ส่ง 240×2 = 480 บาท/งวด |
| | เปียได้ 2 งวด (แยกกัน) |

```
ตัวอย่าง: วง 7 มือ, สมาชิกจริง 5 คน
┌─────────────────────────────────────────────────────────────┐
│ # │ ชื่อ        │ ยอดส่ง/งวด │ หมายเหตุ              │
│───┼─────────────┼────────────┼───────────────────────│
│ 1 │ ท้าว        │ 0          │ ท้าว (ไม่ต้องส่ง)      │
│ 2 │ เต้ (มือ 1) │ 240        │                       │
│ 3 │ เต้ (มือ 2) │ 200        │ ← เต้เล่น 2 มือ       │
│ 4 │ เต้ง        │ 220        │                       │
│ 5 │ ทิม         │ 180        │                       │
│ 6 │ ตุ๊ก         │ 160        │                       │
└─────────────────────────────────────────────────────────────┘
```

---

## Files

- `frontend/src/pages/dashboard/ShareGroupDetailPage.tsx`
- `backend/src/routes/group-members.ts`

---

*v1.0 | Dec 2024*
